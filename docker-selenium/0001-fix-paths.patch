From a46cb8f824d0b43270ebd8a5405ffe199afd9af0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Furkan=20T=C3=BCrkal?= <furkan.turkal@chainguard.dev>
Date: Tue, 30 Jan 2024 13:54:17 +0300
Subject: [PATCH] fix paths
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Furkan TÃ¼rkal <furkan.turkal@chainguard.dev>
---
 NodeBase/start-novnc.sh | 2 +-
 NodeBase/start-vnc.sh   | 2 +-
 NodeBase/start-xvfb.sh  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/NodeBase/start-novnc.sh b/NodeBase/start-novnc.sh
index c3cb4ef..075e62d 100755
--- a/NodeBase/start-novnc.sh
+++ b/NodeBase/start-novnc.sh
@@ -18,7 +18,7 @@ if [ "${START_XVFB:-$SE_START_XVFB}" = true ] ; then
         fi
       fi
 
-      /opt/bin/noVNC/utils/novnc_proxy --listen ${NO_VNC_PORT:-$SE_NO_VNC_PORT} --vnc localhost:${VNC_PORT:-$SE_VNC_PORT}
+      /usr/bin/novnc_server --web /usr/share/webapps/novnc --listen ${NO_VNC_PORT:-$SE_NO_VNC_PORT} --vnc localhost:${VNC_PORT:-$SE_VNC_PORT}
     else
       echo "noVNC won't start because SE_START_NO_VNC is false."
     fi
diff --git a/NodeBase/start-vnc.sh b/NodeBase/start-vnc.sh
index c4419b0..421e2ae 100755
--- a/NodeBase/start-vnc.sh
+++ b/NodeBase/start-vnc.sh
@@ -9,7 +9,7 @@ if [ "${START_XVFB:-$SE_START_XVFB}" = true ] ; then
     do
       sleep 0.5
       echo "Centering wallpaper"
-      /usr/bin/fbsetbg -c /usr/share/images/fluxbox/ubuntu-light.png
+      /usr/local/bin/fbsetbg -c /usr/share/images/fluxbox/ubuntu-light.png
       if [ $? -eq 0 ]; then
         break
       fi    
diff --git a/NodeBase/start-xvfb.sh b/NodeBase/start-xvfb.sh
index b4959a3..657156f 100755
--- a/NodeBase/start-xvfb.sh
+++ b/NodeBase/start-xvfb.sh
@@ -17,7 +17,7 @@ if [ "${START_XVFB:-$SE_START_XVFB}" = true ] ; then
   /usr/bin/xvfb-run --server-num=${DISPLAY_NUM} \
     --listen-tcp \
     --server-args="-screen 0 ${GEOMETRY} -fbdir /var/tmp -dpi ${SCREEN_DPI} -listen tcp -noreset -ac +extension RANDR" \
-    /usr/bin/fluxbox -display ${DISPLAY}
+    /usr/local/bin/fluxbox -display ${DISPLAY}
 else
   echo "Xvfb and Fluxbox won't start. Chrome/Firefox/Edge can only run in headless mode. Remember to set the 'headless' flag in your test."
 fi
-- 
2.39.3 (Apple Git-145)


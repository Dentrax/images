#nolint:valid-pipeline-git-checkout-tag
package:
  name: py3-hashin
  version: 0.17.0
  epoch: 0
  description: "Helps you write your requirements.txt with hashes so you can install with pip install --require-hashes -r ..."
  target-architecture:
    - all
  copyright:
    - license: MIT
  dependencies:
    runtime:
      - python3
      - py3-pip

environment:
  contents:
    packages:
      - busybox
      - ca-certificates-bundle
      - build-base
      - py3-pip

pipeline:
  - uses: git-checkout
    with:
      repository: https://github.com/peterbe/hashin.git
      branch: master
      expected-commit: 628bfe1d1dac565d743df76c9090f4534b625f23

  - runs: |
      pip install . --prefix=/usr --root=${{targets.destdir}}

  - uses: strip

update:
  # GitHub repo doesn't do releases and hasn't been updated in 2+ years
  enabled: false
